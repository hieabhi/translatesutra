# Environment Configuration
# Copy this file to .env and fill in your values

# Database Configuration
DATABASE_URL=postgresql://translatesutra:password123@localhost:5432/translatesutra
POSTGRES_USER=translatesutra
POSTGRES_PASSWORD=password123
POSTGRES_DB=translatesutra

# JWT Configuration
# Development Environment Configuration
# Copy this file to .env and fill in your values for local development

# Database Configuration (matches docker-compose.yml)
DATABASE_URL=postgresql://postgres:dev_password_123@localhost:5432/translatesutra
POSTGRES_USER=postgres
POSTGRES_PASSWORD=dev_password_123
POSTGRES_DB=translatesutra

# JWT Configuration
JWT_SECRET=dev_jwt_secret_change_in_production_must_be_32_chars_or_longer
JWT_REFRESH_SECRET=dev_refresh_secret_change_in_production_must_be_32_chars_or_longer
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=localhost

# External Services (Docker Compose)
LIBRETRANSLATE_URL=http://localhost:5000
LIBRETRANSLATE_API_KEY=optional_api_key_for_premium_features

# Optional: Keycloak Configuration (docker-compose --profile keycloak)
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=translatesutra
KEYCLOAK_CLIENT_ID=translatesutra-app
KEYCLOAK_CLIENT_SECRET=change_in_production

# Redis Configuration (docker-compose --profile cache)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# Logging
LOG_LEVEL=debug
LOG_FORMAT=dev

# Security
CORS_ORIGIN=http://localhost:8081,http://localhost:3001
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Application Features
ENABLE_REGISTRATION=true
REQUIRE_EMAIL_VERIFICATION=false
ENABLE_DEVICE_TRACKING=true
MAX_DEVICES_PER_USER=5

# Argon2 Password Hashing
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=4

# File Upload (for future features)
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# Email Configuration (for future email verification)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@translatesutra.com

# Production Environment (.env.production)
# NODE_ENV=production
# JWT_SECRET=change-this-to-a-strong-secret-in-production-min-32-chars
# JWT_REFRESH_SECRET=change-this-to-a-strong-refresh-secret-in-production
# DATABASE_URL=postgresql://user:password@prod-host:5432/translatesutra
# CORS_ORIGIN=https://translatesutra.com
# ENABLE_REGISTRATION=false
# REQUIRE_EMAIL_VERIFICATION=true
# LOG_LEVEL=warn

# Docker Compose Profiles:
# Default: postgres + backend + web
#   docker-compose up
# With translation service:
#   docker-compose --profile translation up
# With Keycloak auth:
#   docker-compose --profile keycloak up
# With Redis cache:
#   docker-compose --profile cache up
# Full stack:
#   docker-compose --profile translation --profile keycloak --profile cache up

# Backend Configuration
PORT=3000
NODE_ENV=development
API_BASE_URL=http://localhost:3000

# Frontend/Electron Configuration
BACKEND_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# Translation Services
LIBRETRANSLATE_URL=http://localhost:5000
LIBRETRANSLATE_API_KEY=
# Alternative external service (for fallback)
EXTERNAL_TRANSLATE_URL=https://api.translate.example.com
EXTERNAL_TRANSLATE_API_KEY=

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:8080

# Security
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Docker Services (used by docker-compose.yml)
POSTGRES_PORT=5432
LIBRETRANSLATE_PORT=5000
KEYCLOAK_PORT=8080
BACKEND_PORT=3000
FRONTEND_PORT=3001

# Keycloak Configuration (optional)
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=translatesutra
KEYCLOAK_CLIENT_ID=translatesutra-client
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret

# Development
DEBUG=translatesutra:*
LOG_LEVEL=debug

# Production Settings (set these in production)
# HTTPS_CERT_PATH=/path/to/cert.pem
# HTTPS_KEY_PATH=/path/to/key.pem
# HTTPS_CA_PATH=/path/to/ca.pem